# Arc DEX - –î–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –±—ñ—Ä–∂–∞ –Ω–∞ Arc Network

–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –±—ñ—Ä–∂–∞ (DEX) –Ω–∞ –±–∞–∑—ñ Automated Market Maker (AMM) –¥–ª—è Arc Network - Layer-1 EVM-—Å—É–º—ñ—Å–Ω–æ—ó –±–ª–æ–∫—á–µ–π–Ω –º–µ—Ä–µ–∂—ñ –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏.

## –û–≥–ª—è–¥ –ø—Ä–æ—î–∫—Ç—É

Arc DEX - —Ü–µ DEX, –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –¥–ª—è Arc Network, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î:
- **–°—Ç–∞–±—ñ–ª—å–∫–æ—ñ–Ω-–≥–∞–∑ (USDC)** - –æ–ø–ª–∞—Ç–∞ –∫–æ–º—ñ—Å—ñ–π —É –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏—Ö –¥–æ–ª–∞—Ä–∞—Ö
- **–ü—ñ–¥-—Å–µ–∫—É–Ω–¥–Ω—É —Ñ—ñ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å** - —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—Ç—å—Å—è –º–∞–π–∂–µ –º–∏—Ç—Ç—î–≤–æ
- **–Ü–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∏–π —Ñ–æ–∫—É—Å** - –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –≤–∏—Å–æ–∫–∏—Ö –æ–±—Å—è–≥—ñ–≤ —ñ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω–∏—Ö –≤–∏–º–æ–≥
- **AMM –º–æ–¥–µ–ª—å Uniswap V2** - –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ

## –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### 1. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—é
- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ –¥–æ –ø—É–ª—ñ–≤
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ –∑ –ø—É–ª—ñ–≤
- ‚úÖ –í–∏–ø—É—Å–∫ LP —Ç–æ–∫–µ–Ω—ñ–≤ (Liquidity Provider tokens)
- ‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ slippage
- ‚úÖ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ –ø—É–ª—ñ–≤

### 2. Swap (–æ–±–º—ñ–Ω —Ç–æ–∫–µ–Ω—ñ–≤)
- ‚úÖ –û–±–º—ñ–Ω ERC-20 —Ç–æ–∫–µ–Ω—ñ–≤ —á–µ—Ä–µ–∑ –ø—É–ª–∏ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ü—ñ–Ω–æ—É—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ—Ä–µ–∑ AMM
- ‚úÖ –ö–æ–º—ñ—Å—ñ—è 0.3% (–Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è)
- ‚úÖ –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ slippage
- ‚úÖ –ö–∞–ª—å–∫—É–ª—è—Ü—ñ—è –æ—á—ñ–∫—É–≤–∞–Ω–æ—ó –≤–∏—Ö—ñ–¥–Ω–æ—ó —Å—É–º–∏

### 3. –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è
- ‚úÖ ReentrancyGuard - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∞—Ç–∞–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥—É
- ‚úÖ Pausable - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–∏–∑—É–ø–∏–Ω–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- ‚úÖ Token Whitelist - —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —Ç–æ–∫–µ–Ω–∏
- ‚úÖ Ownable - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ SafeERC20 - –±–µ–∑–ø–µ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Ç–æ–∫–µ–Ω–∞–º–∏

### 4. –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ Arc Network
- üåü –ì–∞–∑ –æ–ø–ª–∞—á—É—î—Ç—å—Å—è –≤ USDC (—Å—Ç–∞–±—ñ–ª—å–Ω–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å)
- üåü –ü—ñ–¥-—Å–µ–∫—É–Ω–¥–Ω–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (—à–≤–∏–¥–∫—ñ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)
- üåü EVM-—Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å (–ø—Ä–∞—Ü—é—î –∑ Ethereum —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏)
- üåü –Ü–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–≤–∏—Å–æ–∫—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏)

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         Arc DEX                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ                  ‚îÇ                  ‚îÇ
           ‚ñº                  ‚ñº                  ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ  DEXCore    ‚îÇ    ‚îÇ  LPToken    ‚îÇ    ‚îÇ  Whitelist  ‚îÇ
  ‚îÇ             ‚îÇ    ‚îÇ             ‚îÇ    ‚îÇ             ‚îÇ
  ‚îÇ - Pools     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ - ERC20     ‚îÇ    ‚îÇ - Tokens    ‚îÇ
  ‚îÇ - Swaps     ‚îÇ    ‚îÇ - Mint      ‚îÇ    ‚îÇ - Metadata  ‚îÇ
  ‚îÇ - Liquidity ‚îÇ    ‚îÇ - Burn      ‚îÇ    ‚îÇ - Security  ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

#### 1. **DEXCore.sol** (–≥–æ–ª–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç)
- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—É–ª–∞–º–∏ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- Swap —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ AMM (x * y = k)
- –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

#### 2. **LPToken.sol** (—Ç–æ–∫–µ–Ω–∏ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ)
- ERC-20 —Ç–æ–∫–µ–Ω –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ç–æ—Ä–≥–æ–≤–æ—ó –ø–∞—Ä–∏
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —á–∞—Å—Ç–∫—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ —É –ø—É–ª—ñ
- –ú–æ–∂–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏—Å—è –º—ñ–∂ –∞–¥—Ä–µ—Å–∞–º–∏

#### 3. **TokenWhitelist.sol** (–±—ñ–ª–∏–π —Å–ø–∏—Å–æ–∫)
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤
- –ú–µ—Ç–∞–¥–∞–Ω—ñ —Ç–æ–∫–µ–Ω—ñ–≤ (–Ω–∞–∑–≤–∞, —Å–∏–º–≤–æ–ª, decimals)
- –†–µ–≥—É–ª—è—Ç–æ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

```bash
Node.js >= 18.0.0
npm >= 9.0.0
```

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
git clone <repository-url>
cd arc-dex
npm install
```

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .env —Ñ–∞–π–ª—É

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

```env
# Arc Network RPC endpoints
ARC_TESTNET_RPC=https://rpc-testnet.arc.network
ARC_MAINNET_RPC=https://rpc.arc.network

# Private key –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è (–ë–ï–ó 0x –ø—Ä–µ—Ñ—ñ–∫—Å—É)
PRIVATE_KEY=your_private_key_here

# API –∫–ª—é—á –¥–ª—è Arc Explorer (–¥–ª—è –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó)
ARC_API_KEY=your_arc_explorer_api_key_here

# –ê–¥—Ä–µ—Å–∏ USDC –Ω–∞ Arc (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ - –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ mock —Ç–æ–∫–µ–Ω–∏ —è–∫—â–æ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ)
ARC_USDC_ADDRESS_TESTNET=0x...
ARC_USDC_ADDRESS_MAINNET=0x...
```

### –ö—Ä–æ–∫ 3: –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤

–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ Arc Testnet –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω USDC –¥–ª—è –æ–ø–ª–∞—Ç–∏ –≥–∞–∑—É:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [Arc Faucet](https://faucet-testnet.arc.network)
2. –í–≤–µ–¥—ñ—Ç—å –≤–∞—à—É –∞–¥—Ä–µ—Å—É –≥–∞–º–∞–Ω—Ü—è
3. –û—Ç—Ä–∏–º–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–∏–π USDC

### –ö—Ä–æ–∫ 4: –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤

```bash
npm run compile
```

–¶–µ —Å–∫–æ–º–ø—ñ–ª—é—î –≤—Å—ñ Solidity –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ –≤ –ø–∞–ø—Ü—ñ `artifacts/`.

## –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω—ñ–π –º–µ—Ä–µ–∂—ñ (Hardhat)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –ª–æ–∫–∞–ª—å–Ω—É –Ω–æ–¥—É
npx hardhat node

# –£ –Ω–æ–≤–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏
npx hardhat run scripts/deploy.js --network localhost
```

### –ù–∞ Arc Testnet

```bash
npm run deploy:arc-testnet
```

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, –∞–¥—Ä–µ—Å–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ –±—É–¥—É—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤ `deployments/arcTestnet-{timestamp}.json`.

### –ù–∞ Arc Mainnet (–ø—Ä–æ–¥–∞–∫—à–Ω)

```bash
npm run deploy:arc-mainnet
```

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û**: –ü–µ—Ä–µ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º –Ω–∞ mainnet:
1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
2. –ü—Ä–æ–≤–µ–¥—ñ—Ç—å –∞—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —É `.env`
4. –ú–∞—î—Ç–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ USDC –¥–ª—è –≥–∞–∑—É

## –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤

–ü—ñ—Å–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, –≤–µ—Ä–∏—Ñ—ñ–∫—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ –Ω–∞ Arc Explorer:

```bash
npm run verify:arc-testnet
```

–¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –≤–∞—à–∏–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ —á–µ—Ä–µ–∑ block explorer.

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤

```bash
npm test
```

### –ó–∞–ø—É—Å–∫ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º –∫–æ–¥—É

```bash
npm run test:coverage
```

–¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å –∑–≤—ñ—Ç –ø—Ä–æ –ø–æ–∫—Ä–∏—Ç—Ç—è –∫–æ–¥—É –≤ –ø–∞–ø—Ü—ñ `coverage/`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—ñ–≤

```
test/
‚îú‚îÄ‚îÄ DEXCore.test.js          # –¢–µ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ DEX —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É
‚îÇ   ‚îú‚îÄ‚îÄ Deployment
‚îÇ   ‚îú‚îÄ‚îÄ Pool Creation
‚îÇ   ‚îú‚îÄ‚îÄ Add/Remove Liquidity
‚îÇ   ‚îú‚îÄ‚îÄ Swap
‚îÇ   ‚îú‚îÄ‚îÄ Admin Functions
‚îÇ   ‚îî‚îÄ‚îÄ Helper Functions
‚îÇ
‚îî‚îÄ‚îÄ TokenWhitelist.test.js   # –¢–µ—Å—Ç–∏ –±—ñ–ª–æ–≥–æ —Å–ø–∏—Å–∫—É
    ‚îú‚îÄ‚îÄ Deployment
    ‚îú‚îÄ‚îÄ Add Token
    ‚îú‚îÄ‚îÄ Add Tokens Batch
    ‚îú‚îÄ‚îÄ Remove Token
    ‚îú‚îÄ‚îÄ Update Token Info
    ‚îî‚îÄ‚îÄ Query Functions
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è DEX

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—É–ª—É –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ

```bash
node scripts/createPool.js <tokenA_address> <tokenB_address>
```

–ê–±–æ —á–µ—Ä–µ–∑ –∫–æ–¥:

```javascript
const dex = await ethers.getContractAt("DEXCore", dexAddress);
await dex.createPool(tokenA, tokenB);
```

### 2. –î–æ–¥–∞–≤–∞–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ

```javascript
const dex = await ethers.getContractAt("DEXCore", dexAddress);
const tokenA = await ethers.getContractAt("IERC20", tokenAAddress);
const tokenB = await ethers.getContractAt("IERC20", tokenBAddress);

// Approve —Ç–æ–∫–µ–Ω–∏
await tokenA.approve(dexAddress, amountA);
await tokenB.approve(dexAddress, amountB);

// –î–æ–¥–∞—Ç–∏ –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å
await dex.addLiquidity(
  tokenAAddress,
  tokenBAddress,
  amountA,
  amountB,
  minLiquidity // slippage protection
);
```

### 3. Swap (–æ–±–º—ñ–Ω —Ç–æ–∫–µ–Ω—ñ–≤)

```javascript
const dex = await ethers.getContractAt("DEXCore", dexAddress);
const tokenIn = await ethers.getContractAt("IERC20", tokenInAddress);

// –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –æ—á—ñ–∫—É–≤–∞–Ω—É –≤–∏—Ö—ñ–¥–Ω—É —Å—É–º—É
const amountOut = await dex.getAmountOut(
  tokenInAddress,
  tokenOutAddress,
  amountIn
);

// Approve —Ç–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ swap
await tokenIn.approve(dexAddress, amountIn);
await dex.swap(
  tokenInAddress,
  tokenOutAddress,
  amountIn,
  minAmountOut // slippage protection
);
```

### 4. –í–∏–¥–∞–ª–µ–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ

```javascript
const dex = await ethers.getContractAt("DEXCore", dexAddress);
const pool = await dex.getPool(tokenA, tokenB);
const lpToken = await ethers.getContractAt("LPToken", pool.lpToken);

// Approve LP —Ç–æ–∫–µ–Ω–∏
await lpToken.approve(dexAddress, liquidity);

// –í–∏–¥–∞–ª–∏—Ç–∏ –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å
await dex.removeLiquidity(
  tokenAAddress,
  tokenBAddress,
  liquidity,
  minAmountA, // slippage protection
  minAmountB  // slippage protection
);
```

## –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ AMM

DEX –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–æ–¥–µ–ª—å Constant Product AMM (x * y = k):

### –§–æ—Ä–º—É–ª–∏

**–ü–æ—á–∞—Ç–∫–æ–≤–∞ –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å:**
```
liquidity = ‚àö(amountA √ó amountB) - MINIMUM_LIQUIDITY
```

**–î–æ–¥–∞–≤–∞–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ:**
```
liquidity = min(
  (amountA √ó totalLiquidity) / reserveA,
  (amountB √ó totalLiquidity) / reserveB
)
```

**–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ swap:**
```
amountInWithFee = amountIn √ó (10000 - swapFee) / 10000
amountOut = (reserveOut √ó amountInWithFee) / (reserveIn + amountInWithFee)
```

–¥–µ:
- `swapFee` = 30 (0.3%)
- `FEE_DENOMINATOR` = 10000

**–¶—ñ–Ω–∞ —Ç–æ–∫–µ–Ω–∞:**
```
priceA_in_B = reserveB / reserveA
priceB_in_A = reserveA / reserveB
```

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ Arc Network

### 1. –°—Ç–∞–±—ñ–ª—å–∫–æ—ñ–Ω-–≥–∞–∑ (USDC)

–ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ Ethereum, –¥–µ –≥–∞–∑ –æ–ø–ª–∞—á—É—î—Ç—å—Å—è –≤ ETH, Arc –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î USDC:

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ü–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —É –¥–æ–ª–∞—Ä–∞—Ö
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω –Ω–∞—Ç–∏–≤–Ω–∏–π —Ç–æ–∫–µ–Ω –º–µ—Ä–µ–∂—ñ
- ‚úÖ –°–ø—Ä–æ—â–µ–Ω–∏–π UX –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
```javascript
// –ù–∞ Ethereum:
const gasPrice = await provider.getGasPrice(); // —É wei (ETH)
const gasCost = gasPrice * gasUsed; // ETH

// –ù–∞ Arc:
const gasPrice = await provider.getGasPrice(); // —É USDC units
const gasCost = gasPrice * gasUsed; // USDC (–¥–æ–ª–ª–∞—Ä–∏!)
```

### 2. –ü—ñ–¥-—Å–µ–∫—É–Ω–¥–Ω–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

Arc –∑–∞–±–µ–∑–ø–µ—á—É—î –Ω–∞–¥—à–≤–∏–¥–∫–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π:

| –ú–µ—Ä–µ–∂–∞ | –ß–∞—Å —Ñ—ñ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ |
|--------|-----------------|
| Ethereum | ~12-15 —Ö–≤–∏–ª–∏–Ω |
| BSC | ~3 —Å–µ–∫—É–Ω–¥–∏ |
| **Arc** | **< 1 —Å–µ–∫—É–Ω–¥–∞** |

**–ü–µ—Ä–µ–≤–∞–≥–∏ –¥–ª—è DEX:**
- ‚ö° –ú–∏—Ç—Ç—î–≤—ñ swap –æ–ø–µ—Ä–∞—Ü—ñ—ó
- ‚ö° –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–∞—Ç—Ä–∏–º–æ–∫ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- ‚ö° –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–∏—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ—ó —Ç–æ—Ä–≥—ñ–≤–ª—ñ
- ‚ö° –ö—Ä–∞—â–∏–π UX –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### 3. –Ü–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∏–π —Ñ–æ–∫—É—Å

Arc –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∞ –Ω–∞:
- üè¶ –ë–∞–Ω–∫–∏ —Ç–∞ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ —É—Å—Ç–∞–Ω–æ–≤–∏
- üí≥ –ü–ª–∞—Ç—ñ–∂–Ω—ñ —Å–∏—Å—Ç–µ–º–∏
- üè¢ –§—ñ–Ω—Ç–µ—Ö –∫–æ–º–ø–∞–Ω—ñ—ó
- üí∞ –¢–æ–∫–µ–Ω—ñ–∑–æ–≤–∞–Ω—ñ –∞–∫—Ç–∏–≤–∏ (FX, securities)

**–Ü–º–ø–ª—ñ–∫–∞—Ü—ñ—ó –¥–ª—è DEX:**
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤–∏—Å–æ–∫–∏—Ö –æ–±—Å—è–≥—ñ–≤ —Ç–æ—Ä–≥—ñ–≤–ª—ñ
- –†–µ–≥—É–ª—è—Ç–æ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å (whitelist —Ç–æ–∫–µ–Ω—ñ–≤)
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ KYC/AML
- –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —ñ–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤

### 4. EVM-—Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

Arc –ø–æ–≤–Ω—ñ—Å—Ç—é —Å—É–º—ñ—Å–Ω–∞ –∑ Ethereum Virtual Machine:

**–©–æ —Ü–µ –æ–∑–Ω–∞—á–∞—î:**
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Solidity –¥–ª—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—Å—ñ—Ö Ethereum —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ (Hardhat, Ethers.js, Web3.js)
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ MetaMask —Ç–∞ —ñ–Ω—à–∏–º–∏ –≥–∞–º–∞–Ω—Ü—è–º–∏
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ—Ä—Ç—É–≤–∞—Ç–∏ Ethereum –ø—Ä–æ—î–∫—Ç–∏

## –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö–æ–º—ñ—Å—ñ—ó

```javascript
// –ü–æ—Ç–æ—á–Ω–∞ –∫–æ–º—ñ—Å—ñ—è –∑–∞ swap
const swapFee = await dex.swapFee(); // 30 = 0.3%

// –ó–º—ñ–Ω–∞ –∫–æ–º—ñ—Å—ñ—ó (—Ç—ñ–ª—å–∫–∏ owner)
await dex.setSwapFee(50); // 50 = 0.5%

// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–æ–∑–≤–æ–ª–µ–Ω–∞ –∫–æ–º—ñ—Å—ñ—è
const maxFee = await dex.MAX_SWAP_FEE(); // 100 = 1%
```

### –ü–∞—É–∑–∞/–†–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è

```javascript
// –ü—Ä–∏–∑—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (—Ç—ñ–ª—å–∫–∏ owner)
await dex.pause();

// –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ —Ä–æ–±–æ—Ç—É
await dex.unpause();
```

### Whitelist —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è

```javascript
const whitelist = await ethers.getContractAt("TokenWhitelist", whitelistAddress);

// –î–æ–¥–∞—Ç–∏ —Ç–æ–∫–µ–Ω
await whitelist.addToken(tokenAddress, "Token Name", "SYMBOL", 18);

// –í–∏–¥–∞–ª–∏—Ç–∏ —Ç–æ–∫–µ–Ω
await whitelist.removeToken(tokenAddress);

// –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
const isWhitelisted = await whitelist.isWhitelisted(tokenAddress);
```

## –ë–µ–∑–ø–µ–∫–∞

### –ó–∞—Ö–∏—Å–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏

1. **ReentrancyGuard** - –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∞—Ç–∞–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥—É
2. **Pausable** - –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–∏–∑—É–ø–∏–Ω–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç —É —Ä–∞–∑—ñ –ø—Ä–æ–±–ª–µ–º
3. **Ownable** - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
4. **SafeERC20** - –±–µ–∑–ø–µ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Ç–æ–∫–µ–Ω–∞–º–∏
5. **Whitelist** - —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —Ç–æ–∫–µ–Ω–∏
6. **Slippage Protection** - –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ —Å—É–º–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –±–µ–∑–ø–µ–∫–∏

‚úÖ **–ü–µ—Ä–µ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º –Ω–∞ mainnet:**
1. –ü—Ä–æ–≤–µ–¥—ñ—Ç—å –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∞—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ (Slither, Mythril)
3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ testnet –ø—Ä–æ—Ç—è–≥–æ–º —Ç–∏–∂–Ω—ñ–≤
4. Bug bounty –ø—Ä–æ–≥—Ä–∞–º–∞
5. –ü–æ—Å—Ç—É–ø–æ–≤–∏–π –∑–∞–ø—É—Å–∫ –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏

‚ö†Ô∏è **–†–∏–∑–∏–∫–∏:**
- Smart contract bugs
- –ï–∫–æ–Ω–æ–º—ñ—á–Ω—ñ –∞—Ç–∞–∫–∏ (flash loans, sandwich attacks)
- –ü—Ä–æ–±–ª–µ–º–∏ –∑ –æ—Ä–∞–∫—É–ª–∞–º–∏ —Ü—ñ–Ω (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è)
- Regulatory risks

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –¥–∏–≤. [SECURITY.md](./SECURITY.md)

## –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- üåê [Arc Network Website](https://arc.network)
- üìö [Arc Documentation](https://docs.arc.network)
- üîç [Arc Testnet Explorer](https://explorer-testnet.arc.network)
- üíß [Arc Testnet Faucet](https://faucet-testnet.arc.network)
- üí¨ [Arc Discord](https://discord.gg/arc) (–ø—Ä–∏–º—ñ—Ä–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–∏–≤. [LICENSE](../LICENSE)

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø–∏—Ç–∞–Ω—å –∞–±–æ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [ARCHITECTURE.md](./ARCHITECTURE.md) –¥–ª—è —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π
2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [SECURITY.md](./SECURITY.md) –¥–ª—è –ø–∏—Ç–∞–Ω—å –±–µ–∑–ø–µ–∫–∏
3. –°—Ç–≤–æ—Ä—ñ—Ç—å issue —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
4. –ü—Ä–∏—î–¥–Ω–∞–π—Ç–µ—Å—è –¥–æ Arc Discord —Å–ø—ñ–ª—å–Ω–æ—Ç–∏

---

–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π Arc Network ‚ö°
