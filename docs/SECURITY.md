# –û—Ü—ñ–Ω–∫–∞ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ —Ä–∏–∑–∏–∫—ñ–≤ Arc DEX

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –±–µ–∑–ø–µ–∫–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ Arc DEX, –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ —Ä–∏–∑–∏–∫–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –∞—É–¥–∏—Ç—É.

## –û–≥–ª—è–¥ –±–µ–∑–ø–µ–∫–∏

Arc DEX —Ä–µ–∞–ª—ñ–∑—É—î –∫—ñ–ª—å–∫–∞ —Ä—ñ–≤–Ω—ñ–≤ –∑–∞—Ö–∏—Å—Ç—É:

### 1. –ó–∞—Ö–∏—Å–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤

#### ‚úÖ ReentrancyGuard (OpenZeppelin)
**–©–æ —Ä–æ–±–∏—Ç—å:** –ó–∞–ø–æ–±—ñ–≥–∞—î –∞—Ç–∞–∫–∞–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥—É (reentrancy attacks).

**–î–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è:**
- `addLiquidity()` - –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- `removeLiquidity()` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- `swap()` - –æ–±–º—ñ–Ω —Ç–æ–∫–µ–Ω—ñ–≤

**–ü—Ä–∏–∫–ª–∞–¥ –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –∫–æ–¥—É:**
```solidity
function swap(...) external nonReentrant whenNotPaused {
    // 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ (checks)
    require(amountIn > 0, "DEXCore: amountIn is zero");

    // 2. –ï—Ñ–µ–∫—Ç–∏ (effects)
    pool.reserveA += amountIn;
    pool.reserveB -= amountOut;

    // 3. –í–∑–∞—î–º–æ–¥—ñ—ó (interactions)
    IERC20(tokenIn).safeTransferFrom(msg.sender, address(this), amountIn);
    IERC20(tokenOut).safeTransfer(msg.sender, amountOut);
}
```

**–ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ:** –ë–µ–∑ —Ü—å–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É, –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –º—ñ–≥ –±–∏ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ –≤–∏–∫–ª–∏–∫—É, –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –≤–∏–≤–æ–¥—è—á–∏ –±—ñ–ª—å—à–µ —Ç–æ–∫–µ–Ω—ñ–≤, –Ω—ñ–∂ –º–∞—î.

#### ‚úÖ Pausable (OpenZeppelin)
**–©–æ —Ä–æ–±–∏—Ç—å:** –î–æ–∑–≤–æ–ª—è—î –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø—Ä–∏–∑—É–ø–∏–Ω–∏—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó.

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
```solidity
function pause() external onlyOwner {
    _pause();
}

function unpause() external onlyOwner {
    _unpause();
}
```

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
- –í–∏—è–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω—É –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å
- –ü—ñ–¥–æ–∑—Ä—ñ–ª—É –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å (–≤–µ–ª–∏–∫—ñ –≤–∏–≤–µ–¥–µ–Ω–Ω—è, –∞–Ω–æ–º–∞–ª—å–Ω—ñ —Ü—ñ–Ω–∏)
- –ü–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤
- Emergency situations

**–û–±–º–µ–∂–µ–Ω–Ω—è:** –§—É–Ω–∫—Ü—ñ—ó `addLiquidity`, `removeLiquidity`, `swap` –±—É–¥—É—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ –ø—ñ–¥ —á–∞—Å –ø–∞—É–∑–∏.

#### ‚úÖ Ownable (OpenZeppelin)
**–©–æ —Ä–æ–±–∏—Ç—å:** –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.

**–ó–∞—Ö–∏—â–µ–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**
- `createPool()` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø—É–ª—ñ–≤
- `setSwapFee()` - –∑–º—ñ–Ω–∞ –∫–æ–º—ñ—Å—ñ—ó
- `pause()` / `unpause()` - –ø–∞—É–∑–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –ü—ñ—Å–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥–∞—Ç–∏ ownership –º—É–ª—å—Ç–∏—Å–∏–≥ –≥–∞–º–∞–Ω—Ü—é –∞–±–æ DAO.

```javascript
// –ü—ñ—Å–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:
await dex.transferOwnership(multisigAddress);
```

#### ‚úÖ SafeERC20 (OpenZeppelin)
**–©–æ —Ä–æ–±–∏—Ç—å:** –ë–µ–∑–ø–µ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ ERC-20 —Ç–æ–∫–µ–Ω–∞–º–∏.

**–ü—Ä–æ–±–ª–µ–º–∏, —è–∫—ñ –≤–∏—Ä—ñ—à—É—î:**
- –¢–æ–∫–µ–Ω–∏, —è–∫—ñ –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `bool` —É `transfer()`
- –¢–æ–∫–µ–Ω–∏ –∑ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—é —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—î—é
- –ù–µ—Å–ø–æ–¥—ñ–≤–∞–Ω—ñ —Ä–µ–≤–µ—Ä—Ç—É–≤–∞–Ω–Ω—è

**–ü—Ä–∏–∫–ª–∞–¥:**
```solidity
// ‚ùå –ù–µ–±–µ–∑–ø–µ—á–Ω–æ:
token.transfer(to, amount);

// ‚úÖ –ë–µ–∑–ø–µ—á–Ω–æ:
IERC20(token).safeTransfer(to, amount);
```

#### ‚úÖ Token Whitelist
**–©–æ —Ä–æ–±–∏—Ç—å:** –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤ –¥–ª—è —Ç–æ—Ä–≥—ñ–≤–ª—ñ.

**–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥:**
- –®–∞—Ö—Ä–∞–π—Å—å–∫–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤
- –¢–æ–∫–µ–Ω—ñ–≤ –∑ –±–µ–∫–¥–æ—Ä–∞–º–∏
- –¢–æ–∫–µ–Ω—ñ–≤ –∑ fee-on-transfer
- –¢–æ–∫–µ–Ω—ñ–≤ –∑ rebase –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º

**–ü—Ä–æ—Ü–µ—Å –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–æ–∫–µ–Ω–∞:**
1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É —Ç–æ–∫–µ–Ω–∞
2. –ê–Ω–∞–ª—ñ–∑ –∫–æ–¥—É –Ω–∞ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ —Ç–∞ –æ–±—Å—è–≥—ñ–≤
4. –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ whitelist

#### ‚úÖ Slippage Protection
**–©–æ —Ä–æ–±–∏—Ç—å:** –ó–∞—Ö–∏—â–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤—ñ–¥ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω —Ü—ñ–Ω–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `minLiquidity` - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å LP —Ç–æ–∫–µ–Ω—ñ–≤ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- `minAmountA` / `minAmountB` - –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ —Å—É–º–∏ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- `minAmountOut` - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∏—Ö—ñ–¥–Ω–∞ —Å—É–º–∞ –ø—Ä–∏ swap

**–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ slippage:**
```javascript
// –ü—Ä–∏–∫–ª–∞–¥: –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≥–æ—Ç–æ–≤–∏–π –¥–æ 1% slippage
const expectedOut = await dex.getAmountOut(tokenIn, tokenOut, amountIn);
const minAmountOut = expectedOut * 99n / 100n; // 1% slippage

await dex.swap(tokenIn, tokenOut, amountIn, minAmountOut);
```

### 2. –ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å

#### AMM –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ (x √ó y = k)
**–Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç:** `reserveA √ó reserveB >= k` –∑–∞–≤–∂–¥–∏ –º–∞—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è.

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∏:**
```solidity
// –î–æ swap:
uint256 kBefore = pool.reserveA * pool.reserveB;

// –ü—ñ—Å–ª—è swap:
uint256 kAfter = (pool.reserveA + amountIn) * (pool.reserveB - amountOut);

// kAfter –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ >= kBefore (–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –∫–æ–º—ñ—Å—ñ—ó)
```

#### Precision —Ç–∞ Overflow
**–ó–∞—Ö–∏—Å—Ç:**
- Solidity 0.8+ –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ overflow/underflow
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `uint256` –¥–ª—è –≤—Å—ñ—Ö –æ–±—á–∏—Å–ª–µ–Ω—å
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞ `> 0` –ø–µ—Ä–µ–¥ –¥—ñ–ª–µ–Ω–Ω—è–º

**–ü—Ä–∏–∫–ª–∞–¥:**
```solidity
// ‚ùå –ú–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ –∑ precision:
uint256 result = (a * b) / c;

// ‚úÖ –ö—Ä–∞—â–µ:
uint256 result = (a * b) / c;
require(result > 0, "Result too small");
```

#### Minimum Liquidity Lock
**–©–æ —Ä–æ–±–∏—Ç—å:** –ü–µ—Ä—à—ñ 1000 units –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ —Å–ø–∞–ª—é—é—Ç—å—Å—è –Ω–∞–∑–∞–≤–∂–¥–∏.

**–ß–æ–º—É –≤–∞–∂–ª–∏–≤–æ:**
- –ó–∞–ø–æ–±—ñ–≥–∞—î –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó —Ü—ñ–Ω–æ—é –ø—Ä–∏ –º–∞–ª—ñ–π –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ
- –†–æ–±–∏—Ç—å –ø—É–ª –µ–∫–æ–Ω–æ–º—ñ—á–Ω–æ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—à–∏–º
- –ó–∞—Ö–∏—â–∞—î –≤—ñ–¥ –∞—Ç–∞–∫ —Ç–∏–ø—É "donation attack"

```solidity
if (pool.totalLiquidity == 0) {
    liquidity = sqrt(amount0 * amount1) - MINIMUM_LIQUIDITY;
    LPToken(pool.lpToken).mint(address(1), MINIMUM_LIQUIDITY); // Burn forever
}
```

## –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ä–∏–∑–∏–∫—ñ–≤

### 1. –†–∏–∑–∏–∫–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ (HIGH)

#### üî¥ –õ–æ–≥—ñ—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –≤ AMM –º–∞—Ç–µ–º–∞—Ç–∏—Ü—ñ
**–û–ø–∏—Å:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è —Ñ–æ—Ä–º—É–ª –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤—Ç—Ä–∞—Ç–∏ –∫–æ—à—Ç—ñ–≤.

**–ü—Ä–∏–∫–ª–∞–¥–∏:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ `amountOut` –≤ swap
- –ü–æ–º–∏–ª–∫–∏ —É —Ñ–æ—Ä–º—É–ª—ñ LP —Ç–æ–∫–µ–Ω—ñ–≤
- Precision loss —É –¥—ñ–ª–µ–Ω–Ω—ñ

**–ú—ñ—Ç–∏–≥–∞—Ü—ñ—è:**
- ‚úÖ Unit —Ç–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚úÖ Fuzzing —Ç–µ—Å—Ç–∏ –∑ –≤–∏–ø–∞–¥–∫–æ–≤–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏
- ‚úÖ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω–æ—é —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—î—é (Uniswap V2)
- ‚ö†Ô∏è **TODO:** Formal verification –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

#### üî¥ Reentrancy –∞—Ç–∞–∫–∏
**–û–ø–∏—Å:** –ê—Ç–∞–∫—É—é—á–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤–∏–∫–ª–∏–∫–∞—î —Ñ—É–Ω–∫—Ü—ñ—é –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ –≤–∏–∫–ª–∏–∫—É.

**–ó–∞—Ö–∏—Å—Ç:**
- ‚úÖ `nonReentrant` modifier –Ω–∞ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ—è—Ö –∑ external calls
- ‚úÖ Checks-Effects-Interactions pattern
- ‚úÖ SafeERC20 –¥–ª—è –±–µ–∑–ø–µ—á–Ω–∏—Ö —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—ñ–≤

**–¢–µ—Å—Ç:**
```javascript
// –ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç –∑ –∞—Ç–∞–∫—É—é—á–∏–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º
it("Should prevent reentrancy attack", async function() {
  const Attacker = await ethers.getContractFactory("ReentrancyAttacker");
  const attacker = await Attacker.deploy(dexAddress);

  await expect(
    attacker.attack()
  ).to.be.reverted;
});
```

#### üü° –ü–æ–º–∏–ª–∫–∏ —É —Ñ—É–Ω–∫—Ü—ñ—è—Ö –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è
**–û–ø–∏—Å:** Owner –º–æ–∂–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏.

**–ü—Ä–∏–∫–ª–∞–¥–∏:**
- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ fee > 100% (1%)
- –í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ–ø—É–ª—è—Ä–Ω–∏–π —Ç–æ–∫–µ–Ω –∑ whitelist
- –ù–µ –ø—Ä–∏–∑—É–ø–∏–Ω–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—ñ–¥ —á–∞—Å –∞—Ç–∞–∫–∏

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ Validation –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ (MAX_SWAP_FEE = 100)
- ‚úÖ Events –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω
- ‚ö†Ô∏è **TODO:** Timelock –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–º—ñ–Ω
- ‚ö†Ô∏è **TODO:** Multi-sig ownership

#### üü° Front-running –∞—Ç–∞–∫–∏
**–û–ø–∏—Å:** –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –±–∞—á–∏—Ç—å pending —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é —Ç–∞ –≤–∏–∫–æ–Ω—É—î —Å–≤–æ—é —à–≤–∏–¥—à–µ.

**–¢–∏–ø–∏ –∞—Ç–∞–∫:**
- **Sandwich attack:** –ê—Ç–∞–∫—É—é—á–∏–π –∫—É–ø—É—î –ø–µ—Ä–µ–¥ –∂–µ—Ä—Ç–≤–æ—é, –ø—Ä–æ–¥–∞—î –ø—ñ—Å–ª—è
- **Front-running:** –ö–æ–ø—ñ—é—î profitable —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—é –∑ –≤–∏—â–∏–º gas

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ Slippage protection (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏ `minAmountOut`)
- üü¢ **Arc –ø–µ—Ä–µ–≤–∞–≥–∏:** –ü—ñ–¥-—Å–µ–∫—É–Ω–¥–Ω–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –∑–º–µ–Ω—à—É—î –≤—ñ–∫–Ω–æ –¥–ª—è –∞—Ç–∞–∫
- ‚ö†Ô∏è **TODO:** –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Flashbots-like —Ä—ñ—à–µ–Ω–Ω—è–º–∏ (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ Arc)

### 2. –ï–∫–æ–Ω–æ–º—ñ—á–Ω—ñ —Ä–∏–∑–∏–∫–∏ (MEDIUM)

#### üü° Flash loan –∞—Ç–∞–∫–∏
**–û–ø–∏—Å:** –ê—Ç–∞–∫—É—é—á–∏–π –±–µ—Ä–µ flash loan –¥–ª—è –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó —Ü—ñ–Ω–æ—é –≤ –ø—É–ª—ñ.

**–°—Ü–µ–Ω–∞—Ä—ñ–π –∞—Ç–∞–∫–∏:**
1. –í–∑—è—Ç–∏ flash loan 1M USDC
2. Swap USDC ‚Üí WETH (—Ä—É—Ö–∞—î —Ü—ñ–Ω—É)
3. –í–∏–∫–æ–Ω–∞—Ç–∏ –∞—Ä–±—ñ—Ç—Ä–∞–∂ –Ω–∞ —ñ–Ω—à—ñ–π DEX
4. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ flash loan
5. –ó–∞–ª–∏—à–∏—Ç–∏ —Å–æ–±—ñ –ø—Ä–∏–±—É—Ç–æ–∫

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ Minimum liquidity lock
- ‚úÖ –ö–æ–º—ñ—Å—ñ—è 0.3% —Ä–æ–±–∏—Ç—å –±–∞–≥–∞—Ç–æ –∞—Ç–∞–∫ –Ω–µ–ø—Ä–æ—Ñ—ñ—Ç–Ω–∏–º–∏
- üü¢ **Arc –ø–µ—Ä–µ–≤–∞–≥–∏:** –®–≤–∏–¥–∫–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å —É—Å–∫–ª–∞–¥–Ω—é—î –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—é –∞—Ç–∞–∫
- ‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–µ–ª–∏–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π

#### üü° Impermanent Loss (–Ω–µ–ø–æ—Å—Ç—ñ–π–Ω—ñ –≤—Ç—Ä–∞—Ç–∏)
**–û–ø–∏—Å:** –ü—Ä–æ–≤–∞–π–¥–µ—Ä–∏ –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ –≤—Ç—Ä–∞—á–∞—é—Ç—å —á–µ—Ä–µ–∑ –∑–º—ñ–Ω—É —Ü—ñ–Ω.

**–¶–µ –ù–ï vulnerability,** –∞ –ø—Ä–∏—Ä–æ–¥–Ω–∏–π —Ä–∏–∑–∏–∫ AMM –º–æ–¥–µ–ª—ñ.

**–ü—Ä–∏–∫–ª–∞–¥:**
```
–ü–æ—á–∞—Ç–æ–∫: 1 ETH = 2000 USDC
–î–µ–ø–æ–∑–∏—Ç: 1 ETH + 2000 USDC (–≤—Å—å–æ–≥–æ $4000)

–¶—ñ–Ω–∞ –∑–º—ñ–Ω–∏–ª–∞—Å—è: 1 ETH = 4000 USDC
–Ø–∫–±–∏ HODL: 1 ETH + 2000 USDC = $6000
–£ –ø—É–ª—ñ: 0.707 ETH + 2828 USDC = $5656

Impermanent Loss: ~5.7%
```

**–ö–æ–º–ø–µ–Ω—Å–∞—Ü—ñ—è:** –ö–æ–º—ñ—Å—ñ—ó –≤—ñ–¥ —Ç–æ—Ä–≥—ñ–≤–ª—ñ (0.3% –∑ –∫–æ–∂–Ω–æ–≥–æ swap).

**–û—Å–≤—ñ—Ç–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:** ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—è—Å–Ω—é–≤–∞—Ç–∏ —Ä–∏–∑–∏–∫–∏ IL –≤ UI!

#### üü° –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å
**–û–ø–∏—Å:** –ú–∞–ª—ñ –ø—É–ª–∏ –º–∞—é—Ç—å –≤–µ–ª–∏–∫–∏–π slippage.

**–ü—Ä–∏–∫–ª–∞–¥:**
```
Pool: 100 USDC / 0.1 WETH (–º–∞–ª–æ!)
Swap: 50 USDC ‚Üí ?

–ë–µ–∑ slippage: ~0.05 WETH
–†–µ–∞–ª—å–Ω–æ: ~0.033 WETH (33% slippage!)
```

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ UI –ø–æ–∫–∞–∑—É—î slippage –ø–µ—Ä–µ–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—î—é
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î `minAmountOut`
- ‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** Incentives –¥–ª—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ (liquidity mining)

### 3. –û–ø–µ—Ä–∞—Ü—ñ–π–Ω—ñ —Ä–∏–∑–∏–∫–∏ (MEDIUM)

#### üü° –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è (Single Owner)
**–ü—Ä–æ–±–ª–µ–º–∞:** Owner –º–∞—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å:
- –ú–æ–∂–µ –ø–∞—É–∑–Ω—É—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- –ú–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –∫–æ–º—ñ—Å—ñ—é
- –ú–æ–∂–µ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ —Ç–æ–∫–µ–Ω–∏

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
```javascript
// –ö—Ä–æ–∫ 1: Multi-sig –≥–∞–º–∞–Ω–µ—Ü—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Gnosis Safe)
const multisig = "0x..."; // 3-of-5 –ø—ñ–¥–ø–∏—Å—ñ–≤
await dex.transferOwnership(multisig);

// –ö—Ä–æ–∫ 2: DAO governance (–º–∞–π–±—É—Ç–Ω—î)
const governor = await Governor.deploy();
await dex.transferOwnership(governor.address);
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:**
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ multi-sig (Gnosis Safe)
- ‚úÖ –ü—É–±–ª—ñ—á–Ω—ñ –∞–¥—Ä–µ—Å–∏ signers
- ‚úÖ Timelock –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–º—ñ–Ω (24-48 –≥–æ–¥–∏–Ω)
- ‚ö†Ô∏è –ü–ª–∞–Ω –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ DAO

#### üü° Oracle –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ü–æ—Ç–æ—á–Ω–∞ –≤–µ—Ä—Å—ñ—è –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ—Ä–∞–∫—É–ª–∏ (pure AMM).

–Ø–∫—â–æ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –¥–æ–¥–∞—é—Ç—å—Å—è –æ—Ä–∞–∫—É–ª–∏:
- üî¥ Oracle manipulation
- üî¥ Oracle failure
- üî¥ Delayed price updates

**Best practices –¥–ª—è –æ—Ä–∞–∫—É–ª—ñ–≤:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ decentralized oracles (Chainlink)
- TWAP (Time-Weighted Average Price)
- Multiple oracle sources
- Circuit breakers –ø—Ä–∏ –∞–Ω–æ–º–∞–ª—ñ—è—Ö

#### üü° Upgradeability
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Ç—Ä–∞–∫—Ç–∏ –ù–ï upgradeable (immutable).

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –±–µ–∑–ø–µ–∫–∞ (no admin backdoors)
- ‚úÖ –ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å (–∫–æ–¥ –Ω–µ –∑–º—ñ–Ω–∏—Ç—å—Å—è)

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –±–∞–≥–∏
- ‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Ñ—ñ—á—ñ

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ –†–µ—Ç–µ–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º
- ‚úÖ –ê—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏
- ‚ö†Ô∏è –£ —Ä–∞–∑—ñ –∫—Ä–∏—Ç–∏—á–Ω–æ–≥–æ –±–∞–≥–∞: —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é + –º—ñ–≥—Ä–∞—Ü—ñ—è

### 4. –†–∏–∑–∏–∫–∏ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è Arc Network (LOW-MEDIUM)

#### üü¢ –°—Ç–∞–±—ñ–ª—å–∫–æ—ñ–Ω-–≥–∞–∑ (USDC)
**–£–Ω—ñ–∫–∞–ª—å–Ω–∞ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å Arc:** –ì–∞–∑ –æ–ø–ª–∞—á—É—î—Ç—å—Å—è –≤ USDC.

**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ —Ä–∏–∑–∏–∫–∏:**
- üü° –Ø–∫—â–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è USDC ‚Üí –Ω–µ –º–æ–∂–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
- üü° –Ø–∫—â–æ USDC depeg (–≤—Ç—Ä–∞—Ç–∞ –ø—Ä–∏–≤'—è–∑–∫–∏ –¥–æ $1)

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ü–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω –Ω–∞—Ç–∏–≤–Ω–∏–π —Ç–æ–∫–µ–Ω

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ UI –ø–æ–ø–µ—Ä–µ–¥–∂–∞—î –ø—Ä–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –±–∞–ª–∞–Ω—Å USDC
- ‚úÖ –ó–≤'—è–∑–æ–∫ –∑ Arc Faucet –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### üü¢ –®–≤–∏–¥–∫–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (<1 —Å–µ–∫—É–Ω–¥–∞)
**–í–ø–ª–∏–≤ –Ω–∞ –±–µ–∑–ø–µ–∫—É:**

**–ü–æ–∑–∏—Ç–∏–≤–Ω–µ:**
- ‚úÖ –ú–µ–Ω—à–µ —á–∞—Å—É –¥–ª—è front-running –∞—Ç–∞–∫
- ‚úÖ –ö—Ä–∞—â–∏–π UX (—à–≤–∏–¥–∫—ñ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)
- ‚úÖ –°–∫–ª–∞–¥–Ω—ñ—à–µ –∫–æ–æ—Ä–¥–∏–Ω—É–≤–∞—Ç–∏ –∞—Ç–∞–∫–∏

**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–µ:**
- üü° MEV (Maximal Extractable Value) –≤—Å–µ —â–µ –º–æ–∂–ª–∏–≤–∏–π
- üü° –ü–æ—Ç—Ä—ñ–±–µ–Ω –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ä–µ–∂—ñ –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –∞—Ç–∞–∫

#### üü° Testnet ‚Üí Mainnet –º—ñ–≥—Ä–∞—Ü—ñ—è
**–†–∏—Å–∫–∏:**
- Testnet –º–æ–∂–µ –º–∞—Ç–∏ —ñ–Ω—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≥–∞–∑—É
- –ê–¥—Ä–µ—Å–∏ —Ç–æ–∫–µ–Ω—ñ–≤ –±—É–¥—É—Ç—å —ñ–Ω—à—ñ
- –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –º–µ—Ä–µ–∂—ñ –º–æ–∂–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—Ç–∏—Å—è

**–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ mainnet:**
- [ ] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ testnet >= 2 —Ç–∏–∂–Ω—ñ
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- [ ] –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–¥—Ä–µ—Å USDC —Ç–∞ —ñ–Ω—à–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤
- [ ] Gas optimization
- [ ] Security audit –∑–∞–≤–µ—Ä—à–µ–Ω–æ

#### üü¢ –Ü–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∏–π —Ñ–æ–∫—É—Å Arc
**–ü–æ–∑–∏—Ç–∏–≤–Ω–µ –¥–ª—è DEX:**
- ‚úÖ –í–∏—Å–æ–∫–∞ —è–∫—ñ—Å—Ç—å —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
- ‚úÖ –†–µ–≥—É–ª—è—Ç–æ—Ä–Ω–∞ –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

**–í–∏–º–æ–≥–∏:**
- ‚ö†Ô∏è –ú–æ–∂–ª–∏–≤–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ KYC/AML —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó (–º–∞–π–±—É—Ç–Ω—î)
- ‚ö†Ô∏è –í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω–∏–º –≤–∏–º–æ–≥–∞–º
- ‚ö†Ô∏è –ê—É–¥–∏—Ç –¥–ª—è —ñ–Ω—Å—Ç–∏—Ç—É—Ü—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤

### 5. –ó–æ–≤–Ω—ñ—à–Ω—ñ —Ä–∏–∑–∏–∫–∏ (LOW)

#### üü° Dependency —Ä–∏–∑–∏–∫–∏
**OpenZeppelin Contracts:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ v5.0.0

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è OpenZeppelin
- ‚úÖ Lock dependencies (package-lock.json)
- ‚ö†Ô∏è –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ security advisories

#### üü° Compiler bugs
**Solidity 0.8.20**

**–Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:**
- Optimizer bugs —É —Å—Ç–∞—Ä–∏—Ö –≤–µ—Ä—Å—ñ—è—Ö
- ABI encoding issues

**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:**
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è stable –≤–µ—Ä—Å—ñ—ó –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞
- ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è compiled bytecode
- ‚ö†Ô∏è –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ experimental features

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –∞—É–¥–∏—Ç—É

### –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –∞—É–¥–∏—Ç—É

#### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
1. **AMM –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ —Ñ–æ—Ä–º—É–ª–∏
   - –¢–µ—Å—Ç–∏ –Ω–∞ overflow/underflow
   - Precision tests
   - Fuzzing –∑ –µ–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏

2. **Reentrancy –∑–∞—Ö–∏—Å—Ç**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ checks-effects-interactions
   - –¢–µ—Å—Ç–∏ –∑ –∞—Ç–∞–∫—É—é—á–∏–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏
   - –ê–Ω–∞–ª—ñ–∑ –≤—Å—ñ—Ö external calls

3. **Access control**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `onlyOwner` –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏
   - Ownership transfer –ø—Ä–æ—Ü–µ–¥—É—Ä–∏
   - Pause –º–µ—Ö–∞–Ω—ñ–∑–º

#### üü° –í–∏—Å–æ–∫–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
4. **Token interactions**
   - –¢–µ—Å—Ç–∏ –∑ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º–∏ ERC20
   - Fee-on-transfer —Ç–æ–∫–µ–Ω–∏
   - Rebase —Ç–æ–∫–µ–Ω–∏
   - SafeERC20 usage

5. **Slippage protection**
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö min/max –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
   - Edge cases (zero liquidity, extreme prices)

6. **Events —Ç–∞ logging**
   - –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è
   - –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ events –∫–æ—Ä–µ–∫—Ç–Ω—ñ

#### üü¢ –°–µ—Ä–µ–¥–Ω—ñ–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç
7. **Gas optimization**
   - Storage patterns
   - Loop optimization
   - Unnecessary computation

8. **Code quality**
   - Naming conventions
   - Comments —Ç–∞ documentation
   - NatSpec completeness

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –∞—É–¥–∏—Ç—É

#### –°—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
```bash
# Slither
pip install slither-analyzer
slither contracts/DEXCore.sol

# Mythril
pip install mythril
myth analyze contracts/DEXCore.sol

# Manticore (symbolic execution)
pip install manticore
manticore contracts/DEXCore.sol
```

#### –§–æ—Ä–º–∞–ª—å–Ω–∞ –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è
```bash
# Certora Prover (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è AMM)
# –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:
# - –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç: reserveA * reserveB >= k
# - Invariant: totalSupply = sum(balances)
# - Property: swap –∑–∞–≤–∂–¥–∏ –∑–±—ñ–ª—å—à—É—î k (–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º fee)
```

#### Fuzzing
```bash
# Echidna (property-based testing)
echidna-test contracts/DEXCore.sol --contract DEXCore

# Foundry fuzzing
forge test --fuzz-runs 10000
```

### –¢–µ—Å—Ç–æ–≤–∏–π –ø–æ–∫—Ä–∏—Ç—Ç—è

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:** –ë–∞–∑–æ–≤—ñ unit —Ç–µ—Å—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–æ.

**–ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏:**

1. **Integration tests**
   - –ü–æ–≤–Ω–∏–π –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –ø—É–ª—É
   - Multiple swaps —É –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ
   - –î–æ–¥–∞–≤–∞–Ω–Ω—è/–≤–∏–¥–∞–ª–µ–Ω–Ω—è –ª—ñ–∫–≤—ñ–¥–Ω–æ—Å—Ç—ñ –º—ñ–∂ swaps

2. **Edge case tests**
   ```javascript
   describe("Edge Cases", function() {
     it("Swap with minimum amount (1 wei)");
     it("Swap with maximum amount (uint256.max)");
     it("Add liquidity with imbalanced ratio");
     it("Remove 100% liquidity");
     it("Swap when pool nearly empty");
     it("Multiple users interacting simultaneously");
   });
   ```

3. **Attack scenario tests**
   ```javascript
   describe("Attack Scenarios", function() {
     it("Flash loan price manipulation");
     it("Sandwich attack");
     it("Reentrancy attack");
     it("Front-running simulation");
   });
   ```

4. **Gas benchmarks**
   ```javascript
   describe("Gas Costs", function() {
     it("Gas cost: createPool");
     it("Gas cost: addLiquidity (initial)");
     it("Gas cost: addLiquidity (subsequent)");
     it("Gas cost: swap");
     it("Gas cost: removeLiquidity");
   });
   ```

## –î–æ—Ä–æ–∂–Ω—è –∫–∞—Ä—Ç–∞ –±–µ–∑–ø–µ–∫–∏

### –ü–µ—Ä–µ–¥ Testnet (–ì–æ—Ç–æ–≤–æ ‚úÖ)
- [x] –ë–∞–∑–æ–≤—ñ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏
- [x] Unit —Ç–µ—Å—Ç–∏
- [x] ReentrancyGuard
- [x] Pausable –º–µ—Ö–∞–Ω—ñ–∑–º
- [x] Token whitelist

### –ü–µ—Ä–µ–¥ Mainnet Beta (TODO)
- [ ] –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∞—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏ (2-3 –∫–æ–º–ø–∞–Ω—ñ—ó)
- [ ] Formal verification –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- [ ] Extended testing (4+ —Ç–∏–∂–Ω—ñ –Ω–∞ testnet)
- [ ] Bug bounty –ø—Ä–æ–≥—Ä–∞–º–∞ ($50K-$100K)
- [ ] Multi-sig ownership
- [ ] Timelock –¥–ª—è –∞–¥–º—ñ–Ω —Ñ—É–Ω–∫—Ü—ñ–π
- [ ] Emergency pause –º–µ—Ö–∞–Ω—ñ–∑–º –∑ alerting
- [ ] Integration tests –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ Arc

### –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É (Continuous)
- [ ] 24/7 –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- [ ] Automated alerts (–∞–Ω–æ–º–∞–ª—å–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó, –≤–µ–ª–∏–∫—ñ –≤–∏–≤–µ–¥–µ–Ω–Ω—è)
- [ ] Regular code reviews
- [ ] Dependency updates
- [ ] Incident response plan
- [ ] Post-mortem –¥–ª—è –≤—Å—ñ—Ö —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—ñ–≤

## –ö–æ–Ω—Ç–∞–∫—Ç–∏ –¥–ª—è Security Researchers

–Ø–∫—â–æ –≤–∏ –∑–Ω–∞–π—à–ª–∏ –≤—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å:

1. **–ù–ï –ø—É–±–ª—ñ–∫—É–π—Ç–µ** –ø—É–±–ª—ñ—á–Ω–æ
2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å –Ω–∞: security@arc-dex.io (–∑–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π email)
3. –í–∫–ª—é—á—ñ—Ç—å:
   - –û–ø–∏—Å –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ
   - Proof of Concept (PoC)
   - –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

**Bug Bounty:** –î–æ $100,000 –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ severity.

| Severity | –û–ø–∏—Å | –í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞ |
|----------|------|------------|
| Critical | Loss of funds, protocol break | $50K-$100K |
| High | Potential loss, requires conditions | $10K-$50K |
| Medium | Temporary DOS, griefing | $1K-$10K |
| Low | Best practice violations | $100-$1K |

## –í–∏—Å–Ω–æ–≤–æ–∫

Arc DEX —Ä–µ–∞–ª—ñ–∑—É—î –º–Ω–æ–∂–∏–Ω–Ω—ñ —Ä—ñ–≤–Ω—ñ –∑–∞—Ö–∏—Å—Ç—É —Ç–∞ —Å–ª—ñ–¥—É—î —ñ–Ω–¥—É—Å—Ç—Ä—ñ–∞–ª—å–Ω–∏–º best practices. –û–¥–Ω–∞–∫, —è–∫ —ñ –±—É–¥—å-—è–∫–∏–π DeFi –ø—Ä–æ—Ç–æ–∫–æ–ª, –≤—ñ–Ω –Ω–µ—Å–µ –ø–µ–≤–Ω—ñ —Ä–∏–∑–∏–∫–∏.

**–ö–ª—é—á–æ–≤—ñ –ø–æ–∑–∏—Ç–∏–≤–Ω—ñ –º–æ–º–µ–Ω—Ç–∏:**
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è OpenZeppelin –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤
- ‚úÖ –ú–Ω–æ–∂–∏–Ω–Ω—ñ security –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏
- ‚úÖ Slippage protection
- ‚úÖ Token whitelist
- ‚úÖ –ü—ñ–¥-—Å–µ–∫—É–Ω–¥–Ω–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å Arc –∑–º–µ–Ω—à—É—î –¥–µ—è–∫—ñ –∞—Ç–∞–∫–∏

**–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
- ‚ö†Ô∏è –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∞—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏
- ‚ö†Ô∏è Extended testing
- ‚ö†Ô∏è Multi-sig —Ç–∞ timelock
- ‚ö†Ô∏è Formal verification
- ‚ö†Ô∏è Bug bounty –ø—Ä–æ–≥—Ä–∞–º–∞

**–ü–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Ä–µ–∞–ª—å–Ω–∏—Ö –∫–æ—à—Ç—ñ–≤:**
- ‚ùó –ü—Ä–æ–≤–µ–¥—ñ—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –∞—É–¥–∏—Ç
- ‚ùó –¢–µ—Å—Ç—É–π—Ç–µ –Ω–∞ testnet –º—ñ–Ω—ñ–º—É–º 2 —Ç–∏–∂–Ω—ñ
- ‚ùó –ü–æ—á–Ω—ñ—Ç—å –∑ –æ–±–º–µ–∂–µ–Ω–∏–º–∏ —Å—É–º–∞–º–∏ (TVL cap)
- ‚ùó –ú–∞–π—Ç–µ –ø–ª–∞–Ω –¥—ñ–π –Ω–∞ –≤–∏–ø–∞–¥–æ–∫ —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—É

---

**Disclaimer:** –¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ —î –≥–∞—Ä–∞–Ω—Ç—ñ—î—é –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –Ω–∞ —Å–≤—ñ–π —Ä–∏–∑–∏–∫. –ó–∞–≤–∂–¥–∏ DYOR (Do Your Own Research) —Ç–∞ –ø—Ä–æ–≤–æ–¥—å—Ç–µ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∞—É–¥–∏—Ç –ø–µ—Ä–µ–¥ mainnet —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º.
